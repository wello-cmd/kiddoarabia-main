System.register([],function(e,t){"use strict";return{execute:function(){const t={},n={LCP:{good:1200,poor:2500},FID:{good:10,poor:100},INP:{good:10,poor:200},CLS:{good:.01,poor:.25},FCP:{good:800,poor:1800},TTFB:{good:100,poor:600}},r=(e,t)=>{const r=n[e];return r?t<=r.good?"good":t<=r.poor?"needs-improvement":"poor":"good"},o=e=>{"undefined"!=typeof window&&window.gtag&&window.gtag("event",e.name,{event_category:"Web Vitals",value:Math.round(e.value),metric_rating:e.rating,custom_parameter_name:"web_vitals"}),fetch("/api/analytics/web-vitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(()=>{})};e("measureWebVitals",()=>{if("undefined"!=typeof window&&"PerformanceObserver"in window){try{new PerformanceObserver(e=>{const n=e.getEntries(),a=n[n.length-1],i=Math.round(a.renderTime||a.loadTime);t.lcp=i,o({name:"LCP",value:i,rating:r("LCP",i),delta:i-(t.lcp||0),id:a.id||"lcp"})}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const n=Math.round(e.processingStart-e.startTime);t.fid=n,o({name:"FID",value:n,rating:r("FID",n),delta:n-(t.fid||0),id:e.id||"fid"})})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{if(e.interactionId){const n=Math.round(e.processingEnd-e.startTime);t.inp=n,o({name:"INP",value:n,rating:r("INP",n),delta:n-(t.inp||0),id:e.id||"inp"})}})}).observe({entryTypes:["event"]});let e=0;new PerformanceObserver(n=>{n.getEntries().forEach(t=>{t.hadRecentInput||(e+=t.value)}),t.cls=e,o({name:"CLS",value:Math.round(1e3*e)/1e3,rating:r("CLS",e),delta:e-(t.cls||0),id:"cls"})}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const n=Math.round(e.startTime);t.fcp=n,o({name:"FCP",value:n,rating:r("FCP",n),delta:n-(t.fcp||0),id:e.id||"fcp"})})}).observe({entryTypes:["paint"]})}catch(e){console.warn("Web Vitals measurement failed:",e)}window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const n=Math.round(e.responseStart-e.requestStart);t.ttfb=n,o({name:"TTFB",value:n,rating:r("TTFB",n),delta:n-(t.ttfb||0),id:"ttfb"})}})}})}}});
